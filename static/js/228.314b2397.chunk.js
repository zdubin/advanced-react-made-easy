"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[228],{4228:function(e,n,c){c.r(n),c.d(n,{default:function(){return a}});var t=c(3433),s=c(9439),r=c(2791),o=c(6151),u=(c(5636),c(184)),a=function(){var e=(0,r.useState)([]),n=(0,s.Z)(e,2),c=n[0],a=n[1],i=(0,r.useState)([]),l=(0,s.Z)(i,2),d=l[0],h=l[1],f=(0,r.useRef)(""),v=(0,r.useRef)(null),p=(0,r.useState)(""),m=(0,s.Z)(p,2),k=m[0],x=m[1],g=(0,r.useState)(""),j=(0,s.Z)(g,2),S=j[0],b=j[1],Z=function(){var e;clearInterval(f.current),null===v||void 0===v||null===(e=v.current)||void 0===e||e.close()};return(0,r.useEffect)((function(){return function(){return Z()}}),[]),(0,r.useEffect)((function(){a([].concat((0,t.Z)(c),[k]).filter((function(e){return"Zvi"===e.substring(0,3)})).slice(-5)),console.log(c)}),[k]),(0,r.useEffect)((function(){h([].concat((0,t.Z)(d),[S]).slice(-5)),console.log(d)}),[S]),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{className:"button-space",children:(0,u.jsx)(o.Z,{className:"button-space",variant:"outlined",onClick:Z,children:"Close WebSocket & Auto Send"})}),(0,u.jsx)("span",{className:"button-space",children:(0,u.jsx)(o.Z,{className:"button-space",variant:"contained",onClick:function(){return clearInterval(f.current)},children:"Clear Timer"})}),(0,u.jsx)("span",{className:"button-space",children:(0,u.jsx)(o.Z,{className:"button-space",variant:"outlined",onClick:function(){clearInterval(f.current),v.current=new WebSocket("ws://localhost:10000"),v.current.onopen=function(){return console.log("ws opened")},v.current.onclose=function(){return x("ws closed")},v.current.onerror=function(e){return x(JSON.stringify(e))},v.current.onmessage=function(e){x(e.data)},f.current=setInterval((function(){var e,n=-1!=navigator.userAgent.search("Chrome")?"Chrome":"FireFox",c="Zvi Dubin: ".concat(Math.random(),": ").concat((new Date).toISOString(),": ").concat(n);null===v||void 0===v||null===(e=v.current)||void 0===e||e.send(c),b(c)}),2e3)},children:"Send Socket every 2 Sec"})}),(0,u.jsx)("h2",{children:"Sent Messages"}),(0,u.jsx)("div",{className:"echo-hooks curved-edges echo-hooks__section echo-hooks__section--sent",children:(0,u.jsx)("ol",{children:d.map((function(e,n){return e?(0,u.jsx)("li",{children:e},"msgs-"+n):null}))})}),(0,u.jsx)("h2",{children:"Received Messages"}),(0,u.jsx)("div",{className:"echo-hooks curved-edges echo-hooks__section echo-hooks__section--received",children:(0,u.jsx)("ol",{children:c.map((function(e,n){return(0,u.jsx)("li",{children:e},"msgr-"+n)}))})})]})}}}]);
//# sourceMappingURL=228.314b2397.chunk.js.map