"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[403],{403:function(e,n,s){s.r(n),s.d(n,{Echo:function(){return d},default:function(){return u}});var t=s(5671),c=s(3144),o=s(136),i=s(7277),l=s(2791),a=s(8687),r=s(184),d=function(e){(0,o.Z)(s,e);var n=(0,i.Z)(s);function s(e){var c;return(0,t.Z)(this,s),(c=n.call(this,e)).timerid=void 0,c.connection=null,c.state={messages:[],sentMessages:[]},c.timerid=void 0,c}return(0,c.Z)(s,[{key:"componentWillUnmount",value:function(){var e;clearInterval(this.timerid),null===(e=this.connection)||void 0===e||e.close()}},{key:"componentDidMount",value:function(){var e=this;this.connection=new WebSocket("ws://localhost:10000"),this.connection.onopen=function(){return console.log("ws opened")},this.connection.onclose=function(){return console.log("ws closed")},this.connection.onmessage=function(n){console.log(n),e.setState({messages:e.state.messages.concat([n.data]).slice(-5)})},this.timerid=setInterval((function(){var n,s=Math.random();null===(n=e.connection)||void 0===n||n.send("".concat(s)),e.setState({sentMessages:e.state.sentMessages.concat(["".concat(s)]).slice(-5)})}),2e3)}},{key:"render",value:function(){return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-12",children:(0,r.jsxs)("div",{className:"curved-edges w-100",style:{padding:"10px",margin:"10px",backgroundColor:"lavender"},children:[" ",(0,r.jsx)("strong",{children:"Redux total:"})," ",this.props.total]})})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("div",{className:"col-12",children:[(0,r.jsxs)("div",{className:"echo curved-edges echo__section echo__section--sent",children:[(0,r.jsx)("h2",{children:"Sent"}),(0,r.jsx)("ol",{children:this.state.sentMessages.slice(-5).map((function(e,n){return(0,r.jsx)("li",{children:e},"sentmsg-"+n)}))})]}),(0,r.jsxs)("div",{className:"echo curved-edges echo__section echo__section--received",children:[(0,r.jsx)("h2",{children:"Received"}),(0,r.jsx)("ol",{children:this.state.messages.slice(-5).map((function(e,n){return(0,r.jsx)("li",{children:e.substring(0,30)},"msg-"+n)}))})]})]})})]})}}]),s}(l.Component);var u=(0,a.$j)((function(e){return console.log(e),{total:e.calc.total,articles:e.calc.articles}}))(d)}}]);
//# sourceMappingURL=403.627a9ba9.chunk.js.map